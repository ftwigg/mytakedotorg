@import java.sql.Timestamp
@import org.jooq.Result
@import static db.Tables.TAKEDRAFT
@import static db.Tables.TAKEREVISION

@args(Result<?> drafts)

@views.naked.template("MyTake.org", "Your drafts", "base") -> {

You have @drafts.size() @(singlePlural("draft", "drafts", drafts)).

@for (draft : drafts) {
	@with(	int draftId = draft.get(TAKEDRAFT.ID),
			Timestamp lastEdited = draft.get(TAKEREVISION.CREATED_AT),
			String title = draft.get(TAKEREVISION.TITLE)
			) {
		<h2><a href="@controllers.Drafts.urlEdit(draftId)">@title</a></h2>
		<span>Last edited @common.Time.formatCompact().format(lastEdited)</span>
	}
}

}
